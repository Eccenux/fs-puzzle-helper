<?php
/**
	Test what is grey in JPG.
*/
date_default_timezone_set("Europe/Warsaw");

$file = "../raw.jpg";

$img = imagecreatefromjpeg($file);

$w = imagesx($img);
$h = imagesy($img);

echo "w: $w; h: $h\n";

// test
$x_probe = 10;
for ($y = 0; $y < $h; $y++) {
	$rgb = imagecolorat($img, $x_probe, $y);
	$r = ($rgb >> 16) & 0xFF;
	$g = ($rgb >> 8) & 0xFF;
	$b = $rgb & 0xFF;

	echo "[y=$y]: (r:$r;g:$g;b:$b); $rgb\n";
}
/**
	This is background-gray

	 [y=0]: (r:50;g:50;b:50); 3289650
	[y=95]: (r:50;g:50;b:50); 3289650
	[y=96]: (r:51;g:51;b:53); 3355445
	[y=97]: (r:50;g:49;b:47); 3289391
	[y=98]: (r:50;g:50;b:48); 3289648
	[y=99]: (r:49;g:49;b:51); 3223859
	
	[y=690]: (r:48;g:49;b:51); 3158323
	[y=691]: (r:51;g:51;b:49); 3355441
	[y=692]: (r:49;g:49;b:47); 3223855
	[y=693]: (r:53;g:53;b:51); 3487027
	[y=694]: (r:50;g:50;b:52); 3289652
	[y=695]: (r:50;g:50;b:52); 3289652
	[y=696]: (r:47;g:47;b:45); 3092269
	[y=697]: (r:51;g:49;b:52); 3354932
	[y=698]: (r:56;g:55;b:51); 3684147
	[y=699]: (r:49;g:47;b:48); 3223344	

	[y=990]: (r:49;g:50;b:44); 3224108
	[y=991]: (r:48;g:49;b:51); 3158323
	[y=992]: (r:50;g:50;b:50); 3289650
	[y=993]: (r:50;g:50;b:50); 3289650
	[y=994]: (r:50;g:50;b:50); 3289650
	[y=995]: (r:50;g:50;b:50); 3289650
	[y=996]: (r:50;g:50;b:50); 3289650
	[y=997]: (r:50;g:50;b:50); 3289650
	[y=998]: (r:50;g:50;b:50); 3289650
	[y=999]: (r:50;g:50;b:50); 3289650
*/
